<!DOCTYPE html>
<html lang="en">
  <head>
    <%- include('../partials/head'); %>
  </head>
  <body>
    <header>
      <div class="navbar bg-base-100">
        <a class="btn btn-ghost normal-case text-3xl" href="/">A‚Å∫cademy</a>
      </div>
    </header>

    <main>
      <div class="flex mt-10 ml-24 mr-24 rounded-box pt-5 pb-5 mb-16">
        <div class="flex ml-10 mr-10 w-full pl-5 pt-3">
          <form class="form-control w-full" action="/category/add" method="post" enctype="multipart/form-data">
            <span class="text-3xl font-semibold">Add a category</span>
            <label class="label mt-5">
              <span class="label-text text-lg">Category Name</span>
            </label>
            <input
              type="text"
              placeholder="Name"
              name="categoryName"
              class="input input-bordered w-full max-w-xs"
              autofocus
            />
            <div class="categoryImg">
              <label for="categoryImageUpload" class="mt-5">
                <span class="label-text text-lg">Category Image</span>
                <div
                  class="w-44 h-44 bg-cover bg-center flex items-center justify-center cursor-pointer text-transparent hover:text-white bg-[url('<%= %>')] mt-2 border"
                >
                  <div class="flex h-min opacity-100">
                    <i class="fa-solid fa-camera items-center flex"></i>
                    <span class="ml-2">Change Image</span>
                  </div>
                </div>
              </label>
              <input
                type="file"
                name="upload"
                id="categoryImageUpload"
                class="hidden cursor-pointer"
                accept="image/*"
                onchange="loadFile(event)"
              />
              <img id="output" />
            </div>
            <button class="btn btn-block mt-10 max-w-xs">Add category</button>
          </form>
        </div>
      </div>
    </main>

    <footer><%- include('../partials/footer'); %></footer>
    <script>
      var loadFile = function (event) {
        var output = document.getElementById('output')
        output.src = URL.createObjectURL(event.target.files[0])
        output.onload = function () {
          URL.revokeObjectURL(output.src) // free memory
        }
      }
    </script>
  </body>
</html>
