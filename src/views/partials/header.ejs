<div class="navbar bg-base-100 flex justify-between">
  <div class="w-full mr-2">
    <a class="btn btn-ghost normal-case text-3xl" href="/">A‚Å∫cademy</a>
    <div class="dropdown dropdown-hover group">
      <label tabindex="0" class="ml-3 mr-9 text-lg p-7 group-hover:text-purple-700"
        ><a href="/category">Category</a></label
      >
      <ul tabindex="0" class="dropdown-content menu pr-1 pl-1 ml-5 shadow-xl rounded-xl w-52 bg-white border mt-5">
        <% categories.forEach(function(category) { %>
        <li class="dropdown dropdown-hover mt-1">
          <a class="bg-white hover:bg-gray-400 block whitespace-no-wrap rounded-lg" href="/category/<%= category._id %>"
            ><%= category.name %>
          </a>
          <ul
            tabindex="0"
            class="dropdown-content menu shadow-xl rounded-xl pl-1 pr-1 text-gray-700 bg-white ml-1 border w-52 -mt-1"
          >
            <% category.courses.forEach((course) => { %> <% if (category.courses.length > 0) { %>
            <li class="dropdown dropdown-hover bg-white mt-1">
              <a
                class="delay-150 bg-white group hover:bg-gray-400 block rounded-lg"
                href="/category/course/<%= course._id %>"
              >
                <%= course.title %>
              </a>
            </li>
            <hr class="mt-1 opacity-40" />
            <% } %> <% }) %>
          </ul>
        </li>
        <hr class="mt-1 opacity-40" />
        <% }) %>
      </ul>
    </div>
    <div class="form-control w-full mr-16">
      <div class="relative">
        <div class="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none">
          <svg
            aria-hidden="true"
            class="w-5 h-5 text-gray-500 dark:text-gray-400"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
            ></path>
          </svg>
        </div>
        <input
          type="search"
          class="w-full p-4 pl-10 input input-bordered w-full rounded-lg"
          placeholder="Search for anything"
          required
        />
      </div>
    </div>
  </div>
  <div class="mr-2">
    <div class="dropdown dropdown-end">
      <label tabindex="0" class="btn btn-ghost btn-circle">
        <div class="indicator">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"
            />
          </svg>
          <span class="badge badge-sm indicator-item">8</span>
        </div>
      </label>
      <div tabindex="0" class="mt-3 card card-compact dropdown-content w-52 bg-base-100 shadow">
        <div class="card-body">
          <span class="font-bold text-lg">8 Items</span>
          <span class="text-info">Subtotal: $999</span>
          <div class="card-actions">
            <button class="btn btn-primary btn-block">View cart</button>
          </div>
        </div>
      </div>
    </div>
    <%if (isAuthenticated) { %>
    <div class="dropdown dropdown-end">
      <label tabindex="0" class="btn btn-ghost btn-circle avatar">
        <div class="w-10 rounded-full">
          <img src="<%= avatar %>" />
        </div>
      </label>
      <ul tabindex="0" class="menu menu-compact dropdown-content mt-3 p-2 shadow-lg bg-base-100 rounded-box w-52">
        <li>
          <a class="justify-between text-lg" href="/profile"
            >Settings
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="25"
              height="25"
              fill="currentColor"
              class="bi bi-gear-wide-connected text-black mr-2 opacity-85"
              viewBox="0 0 16 16"
            >
              <path
                d="M7.068.727c.243-.97 1.62-.97 1.864 0l.071.286a.96.96 0 0 0 1.622.434l.205-.211c.695-.719 1.888-.03 1.613.931l-.08.284a.96.96 0 0 0 1.187 1.187l.283-.081c.96-.275 1.65.918.931 1.613l-.211.205a.96.96 0 0 0 .434 1.622l.286.071c.97.243.97 1.62 0 1.864l-.286.071a.96.96 0 0 0-.434 1.622l.211.205c.719.695.03 1.888-.931 1.613l-.284-.08a.96.96 0 0 0-1.187 1.187l.081.283c.275.96-.918 1.65-1.613.931l-.205-.211a.96.96 0 0 0-1.622.434l-.071.286c-.243.97-1.62.97-1.864 0l-.071-.286a.96.96 0 0 0-1.622-.434l-.205.211c-.695.719-1.888.03-1.613-.931l.08-.284a.96.96 0 0 0-1.186-1.187l-.284.081c-.96.275-1.65-.918-.931-1.613l.211-.205a.96.96 0 0 0-.434-1.622l-.286-.071c-.97-.243-.97-1.62 0-1.864l.286-.071a.96.96 0 0 0 .434-1.622l-.211-.205c-.719-.695-.03-1.888.931-1.613l.284.08a.96.96 0 0 0 1.187-1.186l-.081-.284c-.275-.96.918-1.65 1.613-.931l.205.211a.96.96 0 0 0 1.622-.434l.071-.286zM12.973 8.5H8.25l-2.834 3.779A4.998 4.998 0 0 0 12.973 8.5zm0-1a4.998 4.998 0 0 0-7.557-3.779l2.834 3.78h4.723zM5.048 3.967c-.03.021-.058.043-.087.065l.087-.065zm-.431.355A4.984 4.984 0 0 0 3.002 8c0 1.455.622 2.765 1.615 3.678L7.375 8 4.617 4.322zm.344 7.646.087.065-.087-.065z"
              />
            </svg>
          </a>
        </li>
        <li>
          <form action="/logout" method="post">
            <button type="submit" class="flex w-full justify-between">
              <span class="text-lg text-red-500">Log out</span>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="25"
                height="25"
                fill="red"
                class="bi bi-box-arrow-in-right mr-3 mt-1"
                viewBox="0 0 16 16"
              >
                <path
                  fill-rule="evenodd"
                  d="M6 3.5a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-2a.5.5 0 0 0-1 0v2A1.5 1.5 0 0 0 6.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-8A1.5 1.5 0 0 0 5 3.5v2a.5.5 0 0 0 1 0v-2z"
                />
                <path
                  fill-rule="evenodd"
                  d="M11.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H1.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3z"
                />
              </svg>
            </button>
          </form>
        </li>
      </ul>
    </div>
    <% } else { %>
    <a class="btn mx-2" href="/login">Log in</a>
    <% } %>
  </div>
</div>
<hr class="bg-black opacity-75" />
